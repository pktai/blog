{"componentChunkName":"component---src-templates-blog-post-js","path":"/Teamplate-code-react/","webpackCompilationHash":"55a040bcb98cefe4d972","result":{"data":{"markdownRemark":{"html":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascriptjavascript\"><code class=\"language-javascriptjavascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Col<span class=\"token punctuation\">,</span> Form<span class=\"token punctuation\">,</span> Row<span class=\"token punctuation\">,</span> Button <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"antd\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"./passenger-setting.scss\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> actUpsertSetting<span class=\"token punctuation\">,</span> actGetPassengerSetting <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../../actions\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> SettingActionReminder <span class=\"token keyword\">from</span> <span class=\"token string\">\"../setting-action-reminder\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> SettingActionPassenger <span class=\"token keyword\">from</span> <span class=\"token string\">\"../setting-action-passenger\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> SettingActions<span class=\"token punctuation\">,</span> ActionStatus <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../../constants/settingActions\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">PassSetting</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            availOption<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                configReminder<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                configPax<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            isRequire<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n            settingActionState<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>SettingActions <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function-variable function\">checkRequireItem</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> data<span class=\"token punctuation\">.</span><span class=\"token function\">some</span><span class=\"token punctuation\">(</span>\n            <span class=\"token parameter\">item</span> <span class=\"token operator\">=></span>\n                item<span class=\"token punctuation\">.</span>min <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span> <span class=\"token operator\">||</span>\n                item<span class=\"token punctuation\">.</span>min <span class=\"token operator\">===</span> <span class=\"token string\">\"null\"</span> <span class=\"token operator\">||</span>\n                item<span class=\"token punctuation\">.</span>max <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span> <span class=\"token operator\">||</span>\n                item<span class=\"token punctuation\">.</span>max <span class=\"token operator\">===</span> <span class=\"token string\">\"null\"</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> settingActionState <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">;</span>\n        <span class=\"token function\">actGetPassengerSetting</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PA\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            settingActionState<span class=\"token punctuation\">.</span>statusOfPAX<span class=\"token punctuation\">[</span>\n                ActionStatus<span class=\"token punctuation\">.</span>email\n            <span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleActionPax</span><span class=\"token punctuation\">(</span>\n                settingActionState<span class=\"token punctuation\">.</span>statusOfPAX<span class=\"token punctuation\">,</span>\n                res<span class=\"token punctuation\">.</span>configReminder<span class=\"token punctuation\">,</span>\n                ActionStatus<span class=\"token punctuation\">.</span>email\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            settingActionState<span class=\"token punctuation\">.</span>statusOfPAX<span class=\"token punctuation\">[</span>\n                ActionStatus<span class=\"token punctuation\">.</span>callPhone\n            <span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleActionPax</span><span class=\"token punctuation\">(</span>\n                settingActionState<span class=\"token punctuation\">.</span>statusOfPAX<span class=\"token punctuation\">,</span>\n                res<span class=\"token punctuation\">.</span>configReminder<span class=\"token punctuation\">,</span>\n                ActionStatus<span class=\"token punctuation\">.</span>callPhone\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            settingActionState<span class=\"token punctuation\">.</span>statusOfPAX<span class=\"token punctuation\">[</span>\n                ActionStatus<span class=\"token punctuation\">.</span>sms\n            <span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleActionPax</span><span class=\"token punctuation\">(</span>\n                settingActionState<span class=\"token punctuation\">.</span>statusOfPAX<span class=\"token punctuation\">,</span>\n                res<span class=\"token punctuation\">.</span>configReminder<span class=\"token punctuation\">,</span>\n                ActionStatus<span class=\"token punctuation\">.</span>sms\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                availOption<span class=\"token punctuation\">:</span> res<span class=\"token punctuation\">,</span>\n                settingActionState<span class=\"token punctuation\">:</span> settingActionState\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function-variable function\">handleActionPax</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">dataInit<span class=\"token punctuation\">,</span> dataRes<span class=\"token punctuation\">,</span> key</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> email <span class=\"token operator\">=</span> dataRes\n            <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>action <span class=\"token operator\">===</span> key<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>status<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> dataInit<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token operator\">!</span>email<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function-variable function\">handleSubmit</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        e<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> availOption <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> isError <span class=\"token operator\">=</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">checkRequireItem</span><span class=\"token punctuation\">(</span>availOption<span class=\"token punctuation\">.</span>configPax<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">checkRequireItem</span><span class=\"token punctuation\">(</span>availOption<span class=\"token punctuation\">.</span>configReminder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            isRequire<span class=\"token punctuation\">:</span> isError\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isError<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">actUpsertSetting</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"PA\"</span><span class=\"token punctuation\">,</span> availOption<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function-variable function\">getDataChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data<span class=\"token punctuation\">,</span> key</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> availOption <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">;</span>\n        availOption<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            availOption<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>availOption <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> availOption<span class=\"token punctuation\">,</span> isRequire<span class=\"token punctuation\">,</span> settingActionState <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>Form onSubmit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleSubmit<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>h3<span class=\"token operator\">></span>Send Email<span class=\"token operator\">/</span> Send <span class=\"token constant\">SMS</span> button expiry setting<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h3<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>Row<span class=\"token operator\">></span>\n                    <span class=\"token operator\">&lt;</span>Col<span class=\"token operator\">></span>\n                        <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"change-flight\"</span><span class=\"token operator\">></span>\n                            <span class=\"token operator\">&lt;</span>Col span<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">16</span><span class=\"token punctuation\">}</span> style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> paddingLeft<span class=\"token punctuation\">:</span> <span class=\"token string\">\"17%\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                                <span class=\"token operator\">&lt;</span>SettingActionReminder\n                                    form<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>form<span class=\"token punctuation\">}</span>\n                                    getDataChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>getDataChange<span class=\"token punctuation\">}</span>\n                                    configReminder<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>availOption<span class=\"token punctuation\">.</span>configReminder<span class=\"token punctuation\">}</span>\n                                    isRequire<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>isRequire<span class=\"token punctuation\">}</span>\n                                    settingActions<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>settingActionState<span class=\"token punctuation\">}</span>\n                                <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Col<span class=\"token operator\">></span>\n                        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Col<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Row<span class=\"token operator\">></span>\n\n                <span class=\"token operator\">&lt;</span>h3<span class=\"token operator\">></span>Passenger actions <span class=\"token keyword\">for</span> allocation expiry setting<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h3<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>Row<span class=\"token operator\">></span>\n                    <span class=\"token operator\">&lt;</span>Col<span class=\"token operator\">></span>\n                        <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"change-flight\"</span><span class=\"token operator\">></span>\n                            <span class=\"token operator\">&lt;</span>Col span<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">16</span><span class=\"token punctuation\">}</span> style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> paddingLeft<span class=\"token punctuation\">:</span> <span class=\"token string\">\"17%\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                                <span class=\"token operator\">&lt;</span>SettingActionPassenger\n                                    form<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>form<span class=\"token punctuation\">}</span>\n                                    getDataChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>getDataChange<span class=\"token punctuation\">}</span>\n                                    configPax<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>availOption<span class=\"token punctuation\">.</span>configPax<span class=\"token punctuation\">}</span>\n                                    isRequire<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>isRequire<span class=\"token punctuation\">}</span>\n                                <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n                            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Col<span class=\"token operator\">></span>\n                        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Col<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Row<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"for-but-set\"</span><span class=\"token operator\">></span>\n                    <span class=\"token operator\">&lt;</span>Row className<span class=\"token operator\">=</span><span class=\"token string\">\"for-but\"</span><span class=\"token operator\">></span>\n                        <span class=\"token operator\">&lt;</span>Button\n                            className<span class=\"token operator\">=</span><span class=\"token string\">\"btn-primary\"</span>\n                            htmlType<span class=\"token operator\">=</span><span class=\"token string\">\"submit\"</span>\n                            icon<span class=\"token operator\">=</span><span class=\"token string\">\"save\"</span>\n                        <span class=\"token operator\">></span>\n                            Save\n                        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Button<span class=\"token operator\">></span>\n                        <span class=\"token operator\">&lt;</span>Button className<span class=\"token operator\">=</span><span class=\"token string\">\"btn-primary\"</span> icon<span class=\"token operator\">=</span><span class=\"token string\">\"undo\"</span><span class=\"token operator\">></span>\n                            Cancel\n                        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Button<span class=\"token operator\">></span>\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Row<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Form<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Form<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>PassSetting<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascriptjavascript\"><code class=\"language-javascriptjavascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Button <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"antd\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> SettingActionReminderForm <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./setting-action-reminder-form\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"./setting-action-reminder-form\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> isEmpty<span class=\"token punctuation\">,</span> values<span class=\"token punctuation\">,</span> groupBy <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"lodash\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n    ActionStatus<span class=\"token punctuation\">,</span>\n    StatusOfPax<span class=\"token punctuation\">,</span>\n    StateOfPassenger\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../../constants/settingActions\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SettingActionReminder</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            index<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            settingReminder<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            initSetting<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> statusOfPAX<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> sms<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> email<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> callPhone<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            statusOfPassenger<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            actionOfPassenger<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">componentDidUpdate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">_<span class=\"token punctuation\">,</span> preState</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> settingReminder<span class=\"token punctuation\">,</span> statusOfPassenger <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> getDataChange<span class=\"token punctuation\">,</span> configReminder<span class=\"token punctuation\">,</span> settingActions <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>preState<span class=\"token punctuation\">.</span>settingReminder <span class=\"token operator\">!==</span> settingReminder<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">getDataChange</span><span class=\"token punctuation\">(</span>settingReminder<span class=\"token punctuation\">,</span> <span class=\"token string\">\"configReminder\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span>settingReminder<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span>configReminder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                settingReminder<span class=\"token punctuation\">:</span> configReminder\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span>statusOfPassenger<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span>StatusOfPax<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">filterActionPassenger</span><span class=\"token punctuation\">(</span>\n                settingActions<span class=\"token punctuation\">.</span>actionPax<span class=\"token punctuation\">,</span>\n                configReminder\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                statusOfPassenger<span class=\"token punctuation\">:</span> StatusOfPax<span class=\"token punctuation\">,</span>\n                initSetting<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>settingActions <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> form <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n            index<span class=\"token punctuation\">,</span>\n            settingReminder<span class=\"token punctuation\">,</span>\n            initSetting<span class=\"token punctuation\">,</span>\n            statusOfPassenger\n        <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> filterAction <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">filterActionPax</span><span class=\"token punctuation\">(</span>\n            statusOfPassenger<span class=\"token punctuation\">[</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setFieldDefault</span><span class=\"token punctuation\">(</span>settingReminder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            settingReminder<span class=\"token punctuation\">,</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setFieldDefault</span><span class=\"token punctuation\">(</span>settingReminder<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span>\n            <span class=\"token punctuation\">{</span>\n                index<span class=\"token punctuation\">:</span> index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n                settingReminder<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token operator\">...</span>settingReminder<span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">{</span>\n                        action<span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setFieldDefault</span><span class=\"token punctuation\">(</span>settingReminder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        status<span class=\"token punctuation\">:</span>\n                            settingReminder<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span>\n                                <span class=\"token operator\">?</span> filterAction<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>key\n                                <span class=\"token punctuation\">:</span> <span class=\"token string\">\"allocated\"</span><span class=\"token punctuation\">,</span>\n                        type<span class=\"token punctuation\">:</span> <span class=\"token string\">\"departureTime\"</span><span class=\"token punctuation\">,</span>\n                        min<span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                        max<span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                        unit<span class=\"token punctuation\">:</span> <span class=\"token string\">\"minutes\"</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                filterAction<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                initSetting<span class=\"token punctuation\">.</span>statusOfPAX<span class=\"token punctuation\">[</span>\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setFieldDefault</span><span class=\"token punctuation\">(</span>settingReminder<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> filterAction<span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                    initSetting<span class=\"token punctuation\">:</span> initSetting\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> keys <span class=\"token operator\">=</span> form<span class=\"token punctuation\">.</span><span class=\"token function\">getFieldValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"settingReminder\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> nextKeys <span class=\"token operator\">=</span> keys<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        form<span class=\"token punctuation\">.</span><span class=\"token function\">setFieldsValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            settingReminder<span class=\"token punctuation\">:</span> nextKeys\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">filterActionPassenger</span><span class=\"token punctuation\">(</span>initSetting<span class=\"token punctuation\">.</span>actionPax<span class=\"token punctuation\">,</span> settingReminder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function-variable function\">remove</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">k</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> form <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> settingReminder<span class=\"token punctuation\">,</span> statusOfPassenger<span class=\"token punctuation\">,</span> initSetting <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> keys <span class=\"token operator\">=</span> form<span class=\"token punctuation\">.</span><span class=\"token function\">getFieldValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"settingReminder\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> itemRev <span class=\"token operator\">=</span> settingReminder<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        settingReminder<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>itemRev<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        form<span class=\"token punctuation\">.</span><span class=\"token function\">setFieldsValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            settingReminder<span class=\"token punctuation\">:</span> keys<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span> <span class=\"token operator\">=></span> key <span class=\"token operator\">!==</span> k<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> filterAction <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">filterActionPax</span><span class=\"token punctuation\">(</span>\n            statusOfPassenger<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">.</span>action<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            settingReminder<span class=\"token punctuation\">,</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setFieldDefault</span><span class=\"token punctuation\">(</span>settingReminder<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        initSetting<span class=\"token punctuation\">.</span>statusOfPAX<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">.</span>action<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> filterAction<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            initSetting<span class=\"token punctuation\">:</span> initSetting<span class=\"token punctuation\">,</span>\n            settingReminder<span class=\"token punctuation\">:</span> settingReminder\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">filterActionPassenger</span><span class=\"token punctuation\">(</span>initSetting<span class=\"token punctuation\">.</span>actionPax<span class=\"token punctuation\">,</span> settingReminder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function-variable function\">onChangeHandleFields</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">,</span> key</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> settingReminder<span class=\"token punctuation\">,</span> initSetting<span class=\"token punctuation\">,</span> statusOfPassenger <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> getDataChange <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">;</span>\n        settingReminder<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span> <span class=\"token operator\">+</span> value<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">===</span> <span class=\"token string\">\"action\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            settingReminder<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>status <span class=\"token operator\">=</span>\n                initSetting<span class=\"token punctuation\">.</span>statusOfPAX<span class=\"token punctuation\">[</span>value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">;</span>\n            initSetting<span class=\"token punctuation\">.</span>statusOfPAX<span class=\"token punctuation\">[</span>ActionStatus<span class=\"token punctuation\">.</span>sms<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">filterActionPax</span><span class=\"token punctuation\">(</span>\n                statusOfPassenger<span class=\"token punctuation\">[</span>ActionStatus<span class=\"token punctuation\">.</span>sms<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                settingReminder<span class=\"token punctuation\">,</span>\n                ActionStatus<span class=\"token punctuation\">.</span>sms\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            initSetting<span class=\"token punctuation\">.</span>statusOfPAX<span class=\"token punctuation\">[</span>ActionStatus<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">filterActionPax</span><span class=\"token punctuation\">(</span>\n                statusOfPassenger<span class=\"token punctuation\">[</span>ActionStatus<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                settingReminder<span class=\"token punctuation\">,</span>\n                ActionStatus<span class=\"token punctuation\">.</span>email\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            initSetting<span class=\"token punctuation\">.</span>statusOfPAX<span class=\"token punctuation\">[</span>\n                ActionStatus<span class=\"token punctuation\">.</span>callPhone\n            <span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">filterActionPax</span><span class=\"token punctuation\">(</span>\n                statusOfPassenger<span class=\"token punctuation\">[</span>ActionStatus<span class=\"token punctuation\">.</span>callPhone<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                settingReminder<span class=\"token punctuation\">,</span>\n                ActionStatus<span class=\"token punctuation\">.</span>callPhone\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                initSetting<span class=\"token punctuation\">:</span> initSetting\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">===</span> <span class=\"token string\">\"status\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> settingReminder <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">let</span> typeStatus <span class=\"token operator\">=</span> settingReminder<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>action<span class=\"token punctuation\">;</span>\n            initSetting<span class=\"token punctuation\">.</span>statusOfPAX<span class=\"token punctuation\">[</span>typeStatus<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">filterActionPax</span><span class=\"token punctuation\">(</span>\n                statusOfPassenger<span class=\"token punctuation\">[</span>typeStatus<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                settingReminder<span class=\"token punctuation\">,</span>\n                typeStatus\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                initSetting<span class=\"token punctuation\">:</span> initSetting\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            settingReminder<span class=\"token punctuation\">:</span> settingReminder\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">filterActionPassenger</span><span class=\"token punctuation\">(</span>initSetting<span class=\"token punctuation\">.</span>actionPax<span class=\"token punctuation\">,</span> settingReminder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">getDataChange</span><span class=\"token punctuation\">(</span>settingReminder<span class=\"token punctuation\">,</span> <span class=\"token string\">\"configReminder\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function-variable function\">filterActionPax</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">init<span class=\"token punctuation\">,</span> keys<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> resultKeys <span class=\"token operator\">=</span> keys\n            <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>action <span class=\"token operator\">===</span> value<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ele</span> <span class=\"token operator\">=></span> ele<span class=\"token punctuation\">.</span>status<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> init<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> resultKeys<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function-variable function\">autoChangeAction</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data<span class=\"token punctuation\">,</span> key</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> data<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>action <span class=\"token operator\">===</span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function-variable function\">setFieldDefault</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">reminderSetting</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">autoChangeAction</span><span class=\"token punctuation\">(</span>reminderSetting<span class=\"token punctuation\">,</span> ActionStatus<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span>\n            StateOfPassenger<span class=\"token punctuation\">.</span>length\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> ActionStatus<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">autoChangeAction</span><span class=\"token punctuation\">(</span>reminderSetting<span class=\"token punctuation\">,</span> ActionStatus<span class=\"token punctuation\">.</span>sms<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span>\n            StateOfPassenger<span class=\"token punctuation\">.</span>length\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> ActionStatus<span class=\"token punctuation\">.</span>sms<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">autoChangeAction</span><span class=\"token punctuation\">(</span>reminderSetting<span class=\"token punctuation\">,</span> ActionStatus<span class=\"token punctuation\">.</span>callPhone<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span>\n            StateOfPassenger<span class=\"token punctuation\">.</span>length\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> ActionStatus<span class=\"token punctuation\">.</span>callPhone<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function-variable function\">filterActionPassenger</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">initAction<span class=\"token punctuation\">,</span> settingRemind</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> mergeState <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token operator\">...</span>settingRemind<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>action<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token operator\">...</span>initAction<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> <span class=\"token function\">values</span><span class=\"token punctuation\">(</span><span class=\"token function\">groupBy</span><span class=\"token punctuation\">(</span>mergeState<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">i</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                key<span class=\"token punctuation\">:</span> i<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                count<span class=\"token punctuation\">:</span> i<span class=\"token punctuation\">.</span>length\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>count <span class=\"token operator\">&lt;</span> StateOfPassenger<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            actionOfPassenger<span class=\"token punctuation\">:</span> result\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> isRequire<span class=\"token punctuation\">,</span> form <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> getFieldDecorator <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> form<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> settingReminder<span class=\"token punctuation\">,</span> initSetting <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">;</span>\n        <span class=\"token function\">getFieldDecorator</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"settingReminder\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> initialValue<span class=\"token punctuation\">:</span> settingReminder <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>div style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> paddingLeft<span class=\"token punctuation\">:</span> <span class=\"token number\">20</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>SettingActionReminderForm\n                    settingReminder<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>settingReminder<span class=\"token punctuation\">}</span>\n                    isRequire<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>isRequire<span class=\"token punctuation\">}</span>\n                    getFieldDecorator<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>getFieldDecorator<span class=\"token punctuation\">}</span>\n                    onChangeHandleFields<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>onChangeHandleFields<span class=\"token punctuation\">}</span>\n                    remove<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">}</span>\n                    initSetting<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>initSetting<span class=\"token punctuation\">}</span>\n                    actionOfPassenger<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>actionOfPassenger<span class=\"token punctuation\">}</span>\n                <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n                <span class=\"token operator\">&lt;</span>div style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> paddingBottom<span class=\"token punctuation\">:</span> <span class=\"token number\">30</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                    <span class=\"token operator\">&lt;</span>Button\n                        type<span class=\"token operator\">=</span><span class=\"token string\">\"link\"</span>\n                        className<span class=\"token operator\">=</span><span class=\"token string\">\"btn-link\"</span>\n                        icon<span class=\"token operator\">=</span><span class=\"token string\">\"plus\"</span>\n                        onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">}</span>\n                        hidden<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>settingReminder<span class=\"token punctuation\">.</span>length <span class=\"token operator\">>=</span> <span class=\"token number\">24</span><span class=\"token punctuation\">}</span>\n                    <span class=\"token operator\">></span>\n                        Add <span class=\"token keyword\">new</span> <span class=\"token class-name\">rule</span>\n                    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Button<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> SettingActionReminder<span class=\"token punctuation\">;</span></code></pre></div>","frontmatter":{"title":"a litle template function on react"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/Teamplate-code-react/"}}}